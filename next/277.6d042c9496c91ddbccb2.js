(window.webpackJsonp=window.webpackJsonp||[]).push([[277],{mVMy:function(e,n,a){"use strict";a.r(n),n.default="import {Component} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {changeDetection} from '@demo/emulate/change-detection';\nimport {encapsulation} from '@demo/emulate/encapsulation';\nimport {Observable, of, Subject} from 'rxjs';\nimport {delay, filter, startWith, switchMap} from 'rxjs/operators';\n\nimport {default as avatar} from '!!file-loader!../../../../../assets/images/avatar.jpg';\n\nclass User {\n    constructor(\n        readonly firstName: string,\n        readonly lastName: string,\n        readonly avatarUrl: string | null = null,\n    ) {}\n\n    toString(): string {\n        return `${this.firstName} ${this.lastName}`;\n    }\n}\n\nconst databaseMockData: ReadonlyArray<User> = [\n    new User('Roman', 'Sedov', 'http://marsibarsi.me/images/1x1small.jpg'),\n    new User('Alex', 'Inkin', avatar),\n];\n\n@Component({\n    selector: 'tui-combo-box-example-1',\n    templateUrl: './index.html',\n    styleUrls: ['./index.less'],\n    changeDetection,\n    encapsulation,\n})\nexport class TuiComboBoxExample1 {\n    readonly search$ = new Subject<string>();\n\n    readonly items$: Observable<ReadonlyArray<User> | null> = this.search$.pipe(\n        filter(value => value !== null),\n        switchMap(search =>\n            this.serverRequest(search).pipe(startWith<ReadonlyArray<User> | null>(null)),\n        ),\n        startWith(databaseMockData),\n    );\n\n    readonly testValue = new FormControl(databaseMockData[1]);\n\n    onSearchChange(searchQuery: string) {\n        this.search$.next(searchQuery);\n    }\n\n    /**\n     * Service request emulation\n     */\n    private serverRequest(searchQuery: string): Observable<ReadonlyArray<User>> {\n        const result = databaseMockData.filter(user =>\n            user.toString().toLowerCase().includes(searchQuery.toLowerCase()),\n        );\n\n        return of(result).pipe(delay(Math.random() * 1000 + 500));\n    }\n}\n"}}]);