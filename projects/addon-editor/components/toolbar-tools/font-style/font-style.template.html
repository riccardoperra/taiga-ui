<!-- @bad TODO: Keyboard navigation-->
<ng-container *tuiLet="texts$ | async as texts">
    <tui-hosted-dropdown
        *ngIf="fontStyleState$ | async as state"
        #format
        [content]="formatDropdown"
    >
        <button
            #formatBtn
            tuiIconButton
            type="button"
            size="s"
            icon="tuiIconFormatLarge"
            appearance="icon"
            tuiHintDirection="top-left"
            automation-id="toolbar__font-style-button"
            [tuiHint]="texts.fontStyle"
            [tuiHintId]="formatBtn.id"
            [tuiDescribedBy]="formatBtn.id"
            [pseudoPressed]="format.open || state.bold || state.italic || state.underline || state.strike"
            [focusable]="format.open"
        ></button>
        <ng-template #formatDropdown>
            <div class="t-dropdown">
                <button
                    *ngIf="isEnabled(TuiEditorTool.Bold)"
                    tuiIconButton
                    type="button"
                    size="s"
                    icon="tuiIconBoldLarge"
                    appearance="icon"
                    class="t-option t-option_margin"
                    [tuiHint]="texts.bold"
                    [pseudoPressed]="state.bold"
                    (click)="editor.toggleBold()"
                ></button>
                <button
                    *ngIf="isEnabled(TuiEditorTool.Italic)"
                    tuiIconButton
                    type="button"
                    size="s"
                    icon="tuiIconItalicLarge"
                    appearance="icon"
                    class="t-option t-option_margin"
                    [tuiHint]="texts.italic"
                    [pseudoPressed]="state.italic"
                    (click)="editor.toggleItalic()"
                ></button>
                <button
                    *ngIf="isEnabled(TuiEditorTool.Underline)"
                    tuiIconButton
                    type="button"
                    size="s"
                    icon="tuiIconUnderlineLarge"
                    appearance="icon"
                    class="t-option t-option_margin"
                    [tuiHint]="texts.underline"
                    [pseudoPressed]="state.underline"
                    (click)="editor.toggleUnderline()"
                ></button>
                <button
                    *ngIf="isEnabled(TuiEditorTool.Strikethrough)"
                    tuiIconButton
                    type="button"
                    size="s"
                    icon="tuiIconStrikeThroughLarge"
                    appearance="icon"
                    class="t-option t-option_margin"
                    [tuiHint]="texts.strikeThrough"
                    [pseudoPressed]="state.strike"
                    (click)="editor.toggleStrike()"
                ></button>
            </div>
        </ng-template>
    </tui-hosted-dropdown>
</ng-container>
